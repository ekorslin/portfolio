{"ast":null,"code":"var express = require('express');\n\nvar router = express.Router();\n\nvar nodemailer = require('nodemailer');\n\nvar creds = require('../config/config');\n\nvar transport = {\n  host: 'smtp.gmail.com',\n  auth: {\n    user: creds.USER,\n    pass: creds.PASS\n  }\n};\nvar transporter = nodemailer.createTransport(transport);\ntransporter.verify(function (error, success) {\n  if (error) {\n    console.log(error);\n  } else {\n    console.log('Server is ready to take messages');\n  }\n});\nrouter.post('/submit', function (req, res, next) {\n  var name = req.body.name;\n  var email = req.body.email;\n  var content = req.body.message;\n  var content = \"name: \".concat(name, \" \\n email: \").concat(email, \" \\n message: \").concat(content, \" \");\n  var mail = {\n    from: name,\n    to: 'RECEIVING_EMAIL_ADDRESS_GOES_HERE',\n    //Change to email address that you want to receive messages on\n    subject: 'New Message from Contact Form',\n    text: content\n  };\n  transporter.sendMail(mail, function (err, data) {\n    if (err) {\n      res.json({\n        msg: 'fail'\n      });\n    } else {\n      res.json({\n        msg: 'success'\n      });\n    }\n  });\n});\nmodule.exports = router;","map":{"version":3,"sources":["/Users/ekorslin/Desktop/portfolio/src/utils/API.js"],"names":["express","require","router","Router","nodemailer","creds","transport","host","auth","user","USER","pass","PASS","transporter","createTransport","verify","error","success","console","log","post","req","res","next","name","body","email","content","message","mail","from","to","subject","text","sendMail","err","data","json","msg","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAb;;AACA,IAAIC,UAAU,GAAGH,OAAO,CAAC,YAAD,CAAxB;;AACA,IAAMI,KAAK,GAAGJ,OAAO,CAAC,kBAAD,CAArB;;AAEA,IAAIK,SAAS,GAAG;AACdC,EAAAA,IAAI,EAAE,gBADQ;AAEdC,EAAAA,IAAI,EAAE;AACJC,IAAAA,IAAI,EAAEJ,KAAK,CAACK,IADR;AAEJC,IAAAA,IAAI,EAAEN,KAAK,CAACO;AAFR;AAFQ,CAAhB;AAQA,IAAIC,WAAW,GAAGT,UAAU,CAACU,eAAX,CAA2BR,SAA3B,CAAlB;AAEAO,WAAW,CAACE,MAAZ,CAAmB,UAACC,KAAD,EAAQC,OAAR,EAAoB;AACrC,MAAID,KAAJ,EAAW;AACTE,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,GAFD,MAEO;AACLE,IAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ;AACD;AACF,CAND;AAQAjB,MAAM,CAACkB,IAAP,CAAY,SAAZ,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACzC,MAAIC,IAAI,GAAGH,GAAG,CAACI,IAAJ,CAASD,IAApB;AACA,MAAIE,KAAK,GAAGL,GAAG,CAACI,IAAJ,CAASC,KAArB;AACA,MAAIC,OAAO,GAAGN,GAAG,CAACI,IAAJ,CAASG,OAAvB;AACA,MAAID,OAAO,mBAAYH,IAAZ,wBAA8BE,KAA9B,0BAAmDC,OAAnD,MAAX;AAEA,MAAIE,IAAI,GAAG;AACTC,IAAAA,IAAI,EAAEN,IADG;AAETO,IAAAA,EAAE,EAAE,mCAFK;AAEiC;AAC1CC,IAAAA,OAAO,EAAE,+BAHA;AAITC,IAAAA,IAAI,EAAEN;AAJG,GAAX;AAOAd,EAAAA,WAAW,CAACqB,QAAZ,CAAqBL,IAArB,EAA2B,UAACM,GAAD,EAAMC,IAAN,EAAe;AACxC,QAAID,GAAJ,EAAS;AACPb,MAAAA,GAAG,CAACe,IAAJ,CAAS;AACPC,QAAAA,GAAG,EAAE;AADE,OAAT;AAGD,KAJD,MAIO;AACLhB,MAAAA,GAAG,CAACe,IAAJ,CAAS;AACPC,QAAAA,GAAG,EAAE;AADE,OAAT;AAGD;AACF,GAVD;AAWD,CAxBD;AA0BAC,MAAM,CAACC,OAAP,GAAiBtC,MAAjB","sourcesContent":["var express = require('express');\nvar router = express.Router();\nvar nodemailer = require('nodemailer');\nconst creds = require('../config/config');\n\nvar transport = {\n  host: 'smtp.gmail.com',\n  auth: {\n    user: creds.USER,\n    pass: creds.PASS\n  }\n}\n\nvar transporter = nodemailer.createTransport(transport)\n\ntransporter.verify((error, success) => {\n  if (error) {\n    console.log(error);\n  } else {\n    console.log('Server is ready to take messages');\n  }\n});\n\nrouter.post('/submit', (req, res, next) => {\n  var name = req.body.name\n  var email = req.body.email\n  var content = req.body.message\n  var content = `name: ${name} \\n email: ${email} \\n message: ${content} `\n\n  var mail = {\n    from: name,\n    to: 'RECEIVING_EMAIL_ADDRESS_GOES_HERE',  //Change to email address that you want to receive messages on\n    subject: 'New Message from Contact Form',\n    text: content\n  }\n\n  transporter.sendMail(mail, (err, data) => {\n    if (err) {\n      res.json({\n        msg: 'fail'\n      })\n    } else {\n      res.json({\n        msg: 'success'\n      })\n    }\n  })\n})\n\nmodule.exports = router;"]},"metadata":{},"sourceType":"module"}